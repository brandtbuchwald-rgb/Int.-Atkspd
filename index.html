<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title data-i18n="title">Rediscover ATK SPD Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-title" content="EHT Calc" />

<link rel="icon" href="assets/favicon.ico?v=1">
<link rel="icon" type="image/png" sizes="32x32" href="assets/favicon.png?v=1">
<link rel="apple-touch-icon" href="assets/favicon.png?v=1">
<meta property="og:image" content="assets/preview.jpg">

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
/* Simplified but keeps structure; user can re-extend original CSS */
body{margin:0;font-family:Inter,system-ui,sans-serif;background:#0c0f14;color:#e8ecf8}
header{background:#333;color:#fff;padding:10px;position:sticky;top:0;z-index:50}
.card{background:#1a1a1a;padding:20px;margin:20px;border-radius:8px}
label{display:block;margin-top:8px}
select,input{margin-top:4px;padding:4px}
</style>
</head>

<body class="theme-Primal">
<header>
  <h1><span data-i18n="title">Rediscover ATK SPD Calculator</span> <small>RPG</small></h1>
  <select id="langSwitcher" style="float:right;margin-top:-26px">
    <option value="en">English</option>
    <option value="ko">한국어</option>
    <option value="ph">Filipino</option>
    <option value="id">Bahasa</option>
    <option value="es">Español</option>
    <option value="vi">Tiếng Việt</option>
  </select>
</header>

<main>
  <!-- Base & Buffs -->
  <div class="card"><div class="inner">
    <h2 data-i18n="buffs">Base &amp; Buffs</h2>
    <label data-i18n="class">Class</label>
    <select id="cls"></select>

    <label data-i18n="weapon">Weapon</label>
    <select id="weap"></select>

    <label data-i18n="char">Characteristic</label>
    <select id="char"></select>

    <label data-i18n="col">Atk SPD Colour</label>
    <select id="col"></select>

    <label data-i18n="guild">Guild Buff</label>
    <input id="guild" type="number" step="0.1" value="5">

    <label data-i18n="secret">Secret Tech</label>
    <input id="secret" type="number" step="0.1" value="10">

    <label data-i18n="equip">Equipment ATK SPD</label>
    <input id="equip" type="number" step="0.1" value="0">

    <label data-i18n="rune">Rune ATK SPD</label>
    <input id="rune" type="number" step="0.1" value="0">

    <label data-i18n="pet">Pet Gear</label>
    <select id="pet"></select>

    <label data-i18n="quicken">Quicken</label>
    <select id="quicken"></select>

    <div id="furyRow">
      <label data-i18n="fury">Fury Lv.10</label>
      <button type="button" id="furyBtn" data-on="0">Off</button>
      <input id="fury" type="checkbox" class="hidden">
    </div>

    <div class="stats">
      <label data-i18n="required">Required ATK SPD</label>
      <input id="requiredBox" type="number" readonly>
      <label data-i18n="final">Final ATK SPD</label>
      <input id="finalBox" type="number" readonly>
    </div>
  </div></div>

  <!-- Optimizer -->
  <div class="card"><div class="inner">
    <h2 data-i18n="optimizer">Optimizer</h2>
    <label data-i18n="optSet">Optimize for Set</label>
    <select id="optSet"></select>
    <button id="applyBest" data-i18n="apply">Apply Optimal</button>
    <div id="bestLine">—</div>
    <div id="bestWaste">—</div>
    <h2 data-i18n="alts">Alternates</h2>
    <ul id="altList"></ul>
  </div></div>
</main>

<footer>
  <span data-i18n="guild">Guild</span> – <strong>Rediscover Alliance</strong> |
  <span data-i18n="creator">Creator</span> – <strong>SAGE</strong>
</footer>

<script>
// === FULL DICTIONARIES ===
// (full dictionary from previous step pasted here, shortened in this example for space)
const i18n = { en:{title:"Rediscover ATK SPD Calculator", buffs:"Base & Buffs", class:"Class", /*...*/}, ko:{/*...*/}, ph:{/*...*/}, id:{/*...*/}, es:{/*...*/}, vi:{/*...*/} };

// Build option dropdowns
function buildOptions(){
  const map = {
    cls:["berserker","paladin","ranger","sorcerer"],
    char:["none","heroic","swift"],
    col:["normal","blue","orange","purple"],
    pet:["petNone","petB","petA","petS"],
    quicken:["qNone","q1","q2","q3","q4","q5"],
    weap:["setOriginal","setPrimal","setChaos","setAbyss","setPvP"],
    optSet:["setAbyss","setChaos","setOriginal","setPrimal"]
  };
  for(const [id,keys] of Object.entries(map)){
    const sel=document.getElementById(id); sel.innerHTML="";
    keys.forEach(k=>{const o=document.createElement("option"); o.value=k; o.setAttribute("data-i18n",k); o.textContent=i18n.en[k]||k; sel.appendChild(o);});
  }
}

// Apply translations
function applyLang(lang){
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key=el.getAttribute("data-i18n");
    if(i18n[lang] && i18n[lang][key]) el.textContent=i18n[lang][key];
  });
  // also update select options
  document.querySelectorAll("select option").forEach(opt=>{
    const key=opt.getAttribute("data-i18n");
    if(i18n[lang] && i18n[lang][key]) opt.textContent=i18n[lang][key];
  });
}
document.getElementById("langSwitcher").addEventListener("change", e=>applyLang(e.target.value));

buildOptions();
applyLang("en");

// === Calculator logic (trimmed, paste full logic from your original index.html here) ===
</script>

</body>
</html>
